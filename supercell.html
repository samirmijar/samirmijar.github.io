<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Supercell Top-Up ‚Ä¢ SM Digital Services</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0d0f12; --card:#111623; --line:#23283b; --soft:#151b2e;
    --text:#eaeaea; --muted:#b9c6d3; --accent:#6a00ff; --ok:#25D366;
    --radius:16px;
  }
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,sans-serif;line-height:1.55}
  .wrap{max-width:860px;margin:0 auto;padding:18px}

  .topbar{display:flex;align-items:center;gap:10px;padding:12px 0}
  .topbar a{color:#9ecbff;text-decoration:none}
  .brand-logo{width:38px;height:38px;object-fit:contain;margin-left:auto}

  h1{margin:6px 0 0 0;font-size:22px}
  h2{margin:0 0 10px}
  p{margin:0 0 10px}
  .muted{color:var(--muted)}

  .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;margin:14px 0}

  /* inputs */
  input,select,textarea{
    width:100%;padding:12px;border-radius:10px;border:1px solid #2b3148;background:var(--soft);color:#fff;margin:8px 0
  }
  input:focus,select:focus,textarea:focus{outline:2px solid var(--accent)}

  /* Service list (same pattern as roblox/mlbb) */
  .search{width:100%;padding:12px;border-radius:10px;border:1px solid #2b3148;background:var(--soft);color:#fff;margin-bottom:8px}
  .list{max-height:420px;overflow:auto;border:1px solid #2b3148;border-radius:12px;background:#0f1526}
  .row{display:flex;gap:10px;align-items:flex-start;padding:12px;border-bottom:1px solid #20263c;cursor:pointer}
  .row:last-child{border-bottom:none}
  .row:hover{background:#101a32}
  .row.active{background:#0f1e3d;outline:2px solid var(--accent)}
  .badge{min-width:34px;height:22px;border-radius:999px;background:var(--accent);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:11px}
  .name{flex:1}
  .title{font-weight:700;font-size:14px}
  .meta{font-size:12px;color:#9fb0c2;margin-top:2px}
  .price{font-weight:800;white-space:nowrap}

  /* Payment buttons */
  .pay-row{display:flex;gap:10px;flex-wrap:wrap}
  .pay{flex:1 0 120px;text-align:center;background:var(--soft);border:1px solid #2b3148;border-radius:10px;padding:12px;font-weight:700;cursor:pointer}
  .pay.active{background:var(--accent);border-color:var(--accent);color:#fff}

  /* QR summary */
  .qr-box{display:none;margin-top:8px;border-top:1px dashed #2b3148;padding-top:12px}
  .summary{background:#0f1421;border:1px solid #20263a;border-radius:12px;padding:12px;margin:10px 0;font-size:14px}
  .summary b{color:#cfe2ff}
  .qr-wrap{text-align:center}
  .qr-wrap img{max-width:210px;background:#fff;border-radius:12px;padding:8px;display:block;margin:8px auto;border:1px solid #2b3148}
  .note{font-size:13px;color:#ffcdcd;margin:8px 0 0}
  .submit{background:var(--ok);border:none;padding:14px 16px;border-radius:12px;color:#fff;font-weight:700;cursor:pointer;width:100%;margin-top:12px}

  /* tiny toast */
  #toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#0f1822;border:1px solid rgba(255,255,255,.12);color:#e9eef4;padding:10px 14px;border-radius:10px;box-shadow:0 10px 24px rgba(0,0,0,.28);opacity:0;transition:.25s;z-index:9999}
  #toast.show{opacity:1}
</style>
</head>
<body>
  <div class="wrap">
    <!-- top bar -->
    <div class="topbar">
      <a href="index.html">‚Üê Back Home</a>
      <span style="opacity:.6">/</span>
      <span>Supercell Top-Up</span>
      <img class="brand-logo" src="png.images/logo-supercell.png" alt="Supercell">
    </div>

    <h1>Supercell Instant Top-Up (Nepal)</h1>

    <!-- Description -->
    <div class="card">
      <p>We top-up <b>Clash of Clans</b>, <b>Clash Royale</b>, <b>Brawl Stars</b>, <b>Hay Day</b>, <b>Squad Busters</b> ‚Äî passes, gems, coins, bundles.</p>
      <ul style="margin:8px 0 0; padding-left:18px">
        <li>‚ö° Delivery Time: 5‚Äì30 minutes</li>
        <li>üîê Login Method: <b>Supercell Email + Code</b> (we‚Äôll request code via WhatsApp/IG)</li>
        <li>üí≥ Pay via eSewa, Khalti, or Bank</li>
      </ul>
      <p class="muted" style="margin-top:8px">Don‚Äôt change password during top-up.</p>
    </div>

    <!-- Account -->
    <div class="card">
      <h2>Your Supercell Account</h2>
      <input id="email" type="email" placeholder="Supercell Email (for login code)" required>
      <input id="contact" type="text" placeholder="WhatsApp / Instagram link (to send code)" required>
    </div>

    <!-- Services -->
    <div class="card">
      <h2>Select Service</h2>
      <input id="q" class="search" placeholder="Search service‚Ä¶ (Gold Pass, Brawl Pass, Gems 1200)">
      <div class="list" id="list">

        <!-- COC -->
        <div class="row" data-plan="Clash of Clans ‚Ä¢ Gold Pass" data-price="270">
          <span class="badge">COC</span>
          <div class="name">
            <div class="title">Clash of Clans ‚Ä¢ Gold Pass</div>
            <div class="meta">1 season ‚Ä¢ Basic</div>
          </div>
          <div class="price">NPR 270</div>
        </div>
        <div class="row" data-plan="Clash of Clans ‚Ä¢ Gold Pass Plus" data-price="980">
          <span class="badge">COC</span>
          <div class="name"><div class="title">Clash of Clans ‚Ä¢ Gold Pass Plus</div><div class="meta">Season upgrade</div></div>
          <div class="price">NPR 980</div>
        </div>
        <div class="row" data-plan="Clash of Clans ‚Ä¢ Gems 1200" data-price="1450">
          <span class="badge">COC</span>
          <div class="name"><div class="title">Clash of Clans ‚Ä¢ Gems 1200</div><div class="meta">Instant credit</div></div>
          <div class="price">NPR 1450</div>
        </div>

        <!-- CR -->
        <div class="row" data-plan="Clash Royale ‚Ä¢ Pass Royale (Season)" data-price="1950">
          <span class="badge">CR</span>
          <div class="name"><div class="title">Clash Royale ‚Ä¢ Pass Royale (Season)</div><div class="meta">Season perks</div></div>
          <div class="price">NPR 1950</div>
        </div>
        <div class="row" data-plan="Clash Royale ‚Ä¢ Gems 1200" data-price="1500">
          <span class="badge">CR</span>
          <div class="name"><div class="title">Clash Royale ‚Ä¢ Gems 1200</div><div class="meta">Instant</div></div>
          <div class="price">NPR 1500</div>
        </div>

        <!-- BS -->
        <div class="row" data-plan="Brawl Stars ‚Ä¢ Brawl Pass" data-price="450">
          <span class="badge">BS</span>
          <div class="name"><div class="title">Brawl Stars ‚Ä¢ Brawl Pass</div><div class="meta">Standard season</div></div>
          <div class="price">NPR 450</div>
        </div>
        <div class="row" data-plan="Brawl Stars ‚Ä¢ Brawl Pass Plus" data-price="580">
          <span class="badge">BS</span>
          <div class="name"><div class="title">Brawl Stars ‚Ä¢ Brawl Pass Plus</div><div class="meta">Extra rewards</div></div>
          <div class="price">NPR 580</div>
        </div>
        <div class="row" data-plan="Brawl Stars ‚Ä¢ Gems 950" data-price="1600">
          <span class="badge">BS</span>
          <div class="name"><div class="title">Brawl Stars ‚Ä¢ Gems 950</div><div class="meta">Instant</div></div>
          <div class="price">NPR 1600</div>
        </div>

        <!-- Hay Day -->
        <div class="row" data-plan="Hay Day ‚Ä¢ Farm Pass" data-price="550">
          <span class="badge">HD</span>
          <div class="name"><div class="title">Hay Day ‚Ä¢ Farm Pass</div><div class="meta">Monthly pass</div></div>
          <div class="price">NPR 550</div>
        </div>
        <div class="row" data-plan="Hay Day ‚Ä¢ Diamonds 520" data-price="900">
          <span class="badge">HD</span>
          <div class="name"><div class="title">Hay Day ‚Ä¢ Diamonds 520</div><div class="meta">Instant</div></div>
          <div class="price">NPR 900</div>
        </div>

        <!-- Squad Busters -->
        <div class="row" data-plan="Squad Busters ‚Ä¢ Super Pass (Season)" data-price="1450">
          <span class="badge">SB</span>
          <div class="name"><div class="title">Squad Busters ‚Ä¢ Super Pass (Season)</div><div class="meta">Seasonal pass</div></div>
          <div class="price">NPR 1450</div>
        </div>
        <div class="row" data-plan="Squad Busters ‚Ä¢ Coins 3000" data-price="2400">
          <span class="badge">SB</span>
          <div class="name"><div class="title">Squad Busters ‚Ä¢ Coins 3000</div><div class="meta">Instant coins</div></div>
          <div class="price">NPR 2400</div>
        </div>

      </div>
    </div>

    <!-- Payment + QR -->
    <div class="card">
      <h2>Payment Method</h2>
      <div class="pay-row">
        <div class="pay" data-method="eSewa"  data-qr="png.images/logo-esewaqr.png">eSewa</div>
        <div class="pay" data-method="Khalti" data-qr="png.images/logo-khaltiqr.png">Khalti</div>
        <div class="pay" data-method="Bank"   data-qr="png.images/logo-bankqr.png">Bank</div>
      </div>

      <div id="qrBox" class="qr-box">
        <div class="summary" id="summary">Selected: ‚Äî ‚Ä¢ Method: ‚Äî</div>
        <div><b>Email:</b> <span id="sEmail">‚Äî</span> &nbsp; <b>Contact:</b> <span id="sContact">‚Äî</span></div>
        <div class="qr-wrap"><img id="qrImg" alt="Payment QR"></div>
        <p class="note">Write ONLY your real name in payment remarks. Don‚Äôt write game names.</p>
        <input id="txn" type="text" placeholder="Enter Transaction ID or Remarks">
        <button id="submitBtn" class="submit" onclick="submitNow()">Submit Order</button>
      </div>
    </div>
  </div>

  <!-- toast -->
  <div id="toast"></div>

<script>
  const FORMCARRY = 'https://formcarry.com/s/l4cLdlMhyf-'; // your Formcarry form ID
  let chosen = { method:"", qr:"" };
  let picked = { plan:"", price:"" };

  const $ = id => document.getElementById(id);

  // ===== Search filter =====
  $('q').addEventListener('input', e=>{
    const q=e.target.value.toLowerCase();
    document.querySelectorAll('.row').forEach(r=>{
      r.style.display = r.innerText.toLowerCase().includes(q) ? 'flex' : 'none';
    });
  });

  // ===== Select a service =====
  document.querySelectorAll('.row').forEach(r=>{
    r.addEventListener('click', ()=>{
      document.querySelectorAll('.row').forEach(b=>b.classList.remove('active'));
      r.classList.add('active');
      picked.plan = r.dataset.plan;
      picked.price = 'NPR ' + r.dataset.price;
      updateSummary();
    });
  });

  // ===== Payment buttons =====
  document.querySelectorAll('.pay').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.pay').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      chosen.method = btn.dataset.method;
      chosen.qr     = btn.dataset.qr;
      updateSummary();
    });
  });

  // ===== Watch inputs live =====
  ['email','contact'].forEach(id=>{
    $(id).addEventListener('input', updateSummary);
    $(id).addEventListener('change', updateSummary);
  });

  // ===== Tiny toast =====
  function toast(msg){
    const t = $('toast');
    t.textContent = msg;
    t.classList.add('show');
    clearTimeout(toast._t);
    toast._t = setTimeout(()=>t.classList.remove('show'), 3000);
  }

  // ===== Show QR + summary =====
  function updateSummary(){
    if(!chosen.method) return;
    $('summary').innerHTML =
      `Selected: <b>${picked.plan || '‚Äî'}</b> (${picked.price || '-'}) ‚Ä¢ <b>Method:</b> ${chosen.method}`;
    $('sEmail').textContent   = $('email').value.trim()   || '‚Äî';
    $('sContact').textContent = $('contact').value.trim() || '‚Äî';
    $('qrImg').src = chosen.qr || '';
    $('qrBox').style.display = 'block';
  }

  // ===== Send to Formcarry =====
  async function submitNow(){
    const email   = $('email').value.trim();
    const contact = $('contact').value.trim();
    const txn     = $('txn').value.trim();

    if(!picked.plan){ alert('Please select a service.'); return; }
    if(!chosen.method){ alert('Please select a payment method.'); return; }
    if(!email || !contact){ alert('Enter your Supercell email and a contact (WhatsApp/IG).'); return; }
    if(!txn){ alert('Please enter transaction ID or remarks.'); return; }

    const orderText = `Supercell Order
Service: ${picked.plan}
Price: ${picked.price}
Supercell Email: ${email}
Contact (code delivery): ${contact}
Payment Method: ${chosen.method}
Transaction/Remarks: ${txn}`;

    const btn = $('submitBtn'); const old = btn.textContent;
    btn.disabled = true; btn.textContent = 'Sending...';

    try{
      const fd = new FormData();
      fd.append('name',  'Supercell Customer');
      fd.append('email', email);
      fd.append('order', orderText);

      const res = await fetch(FORMCARRY, { method:'POST', body:fd, headers:{Accept:'application/json'} });
      if(!res.ok) throw new Error('Formcarry error');
      toast('‚úÖ Order sent! We‚Äôll contact you soon.');
    }catch(e){
      console.error(e);
      toast('‚ö†Ô∏è Could not send order. Please try again.');
    }finally{
      btn.disabled = false; btn.textContent = old;
    }
  }
</script>
</body>
</html>